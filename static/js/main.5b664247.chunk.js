(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{21:function(e,t,n){},33:function(e){e.exports=JSON.parse('{"a":[[24,6],[24,7],[25,7],[25,6],[25,16],[26,16],[27,16],[24,17],[23,18],[23,19],[28,17],[29,18],[29,19],[28,20],[24,20],[25,23],[26,23],[26,24],[27,23],[26,21],[27,23],[24,6]]}')},34:function(e,t,n){e.exports=n(85)},38:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),r=n(32),l=n.n(r),c=(n(38),n(7)),o=n(8),s=n(11),u=n(10),h=(n(21),n(9)),v=n(14),f=function(){function e(t,n){Object(c.a)(this,e),this._alive=void 0,this._col=void 0,this._row=void 0,this._alive=!1,this._row=t,this._col=n}return Object(o.a)(e,[{key:"switch",value:function(e){this._alive=e}},{key:"equals",value:function(e){return this._col===e._col&&this._row===e._row}},{key:"toString",value:function(){return"Row: ".concat(this._row," Col: ").concat(this._col)}},{key:"alive",get:function(){return this._alive}},{key:"col",get:function(){return this._col}},{key:"row",get:function(){return this._row}}]),e}(),p=n(33),g=function(){function e(t,n){Object(c.a)(this,e),this._cells=void 0,this.size=void 0,this.size=t/n,this._cells=new Array(this.size)}return Object(o.a)(e,[{key:"getCell",value:function(e,t){return this._cells[e][t]}},{key:"getLiveNeighbours",value:function(e,t){for(var n=0,a=-1;a<=1;a++)for(var i=-1;i<=1;i++)e+a>=0&&t+i>=0&&t+i<this.size&&e+a<this.size&&(e===e+a&&t===t+i||this._cells[e+a][t+i].alive&&n++);return n}},{key:"fill",value:function(){var e=this;this._cells=Object(h.a)(this._cells).map((function(t,n){return Object(h.a)(new Array(e.size)).map((function(e,t){var a=new f(n,t);return Object(h.a)(p.a).find((function(e){return a.row===e[0]&&a.col===e[1]}))&&a.switch(!0),a}))}))}},{key:"update",value:function(){for(var e,t,n=this,a=new Array,i=0;i<this.size;i++){a[i]=new Array;for(var r=0;r<this.size;r++)e=this._cells[i][r],t=this.getLiveNeighbours(e.row,e.col),!e.alive||2!==t&&3!==t?e.alive?a[i][r]=0:a[i][r]=3===t?1:0:a[i][r]=1}this._cells.forEach((function(e,t){return e.forEach((function(e,i){return n.getCell(t,i).switch(a[t][i]>0)}))}))}},{key:"clear",value:function(){var e=this;this._cells.forEach((function(t,n){return t.forEach((function(t,a){return e.getCell(n,a).switch(!1)}))}))}},{key:"cells",get:function(){return this._cells}}]),e}(),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).manager=void 0,a.manager=new g(e.size,e.scale),a.manager.fill(),a.state={generation:a.manager.cells},a}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){e.count<this.props.count&&this.manager.update(),e.clear<this.props.clear&&(console.log("clearing"),this.manager.clear(),this.manager.update(),console.log("cleared"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,a=t.scale,r=this.state.generation,l=0;return i.a.createElement("div",{className:"canvas"},i.a.createElement(v.Stage,{width:n,height:n},i.a.createElement(v.Layer,{width:n,height:n},Object(h.a)(r).map((function(t,n){return Object(h.a)(t).map((function(t,r){var c=t.alive;return i.a.createElement(v.Rect,{key:l++,name:"Cell_"+(n+r),width:a,height:a,x:t.col*a,y:t.row*a,fill:c?"black":"white",stroke:"grey",strokeWidth:1,onClick:function(){return e.switch(t)}})}))})))))}},{key:"switch",value:function(e){e.switch(!e.alive),this.setState({generation:this.manager.cells})}}]),n}(a.Component),y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.playing;return i.a.createElement("div",null,i.a.createElement("button",{onClick:this.props.handleStatus},e?"Pause":"Start"),i.a.createElement("button",{onClick:this.props.handleClear},"Clear canvas"))}}]),n}(a.Component),d=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).loop=void 0,a.state={size:550,scale:10,playing:!1,clear:0,count:0},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.size,n=e.scale,a=e.count,r=e.playing,l=e.clear;return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Conway's Game of Life"),i.a.createElement("ol",null,i.a.createElement("li",null,"Any live cell with fewer than two live neighbours dies, as if by underpopulation."),i.a.createElement("li",null,"Any live cell with two or three live neighbours lives on to the next generation."),i.a.createElement("li",null,"Any live cell with more than three live neighbours dies, as if by overpopulation."),i.a.createElement("li",null,"Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.")),i.a.createElement(m,{size:t,scale:n,count:a,clear:l}),i.a.createElement(y,{playing:r,handleStatus:this.setGame.bind(this),handleClear:this.upClear.bind(this)}))}},{key:"setGame",value:function(){this.setState({playing:!this.state.playing}),this.state.playing?clearInterval(this.loop):this.loop=setInterval(this.setCounter.bind(this),500)}},{key:"setCounter",value:function(){this.state.playing&&this.setState({count:this.state.count+1})}},{key:"upClear",value:function(){this.setState({clear:this.state.clear+1,playing:!1})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.5b664247.chunk.js.map